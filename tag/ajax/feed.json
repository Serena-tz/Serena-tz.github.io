{
    "version": "https://jsonfeed.org/version/1",
    "title": "阳光果苏 • All posts by \"ajax\" tag",
    "description": "心情笔记 & 编程日记",
    "home_page_url": "https://Serena-tz.github.io",
    "items": [
        {
            "id": "https://serena-tz.github.io/2020/10/14/ajax%E4%BC%A0%E5%8F%82%E5%AE%9E%E7%8E%B0%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84json%E6%95%B0%E6%8D%AE%E3%80%81JQ%E7%89%88ajax/",
            "url": "https://serena-tz.github.io/2020/10/14/ajax%E4%BC%A0%E5%8F%82%E5%AE%9E%E7%8E%B0%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%90%8C%E7%9A%84json%E6%95%B0%E6%8D%AE%E3%80%81JQ%E7%89%88ajax/",
            "title": "ajax传参实现获取不同的json数据、JQ版ajax",
            "date_published": "2020-10-14T01:47:29.000Z",
            "content_html": "<h2 id=\"ajax传参实现获取不同的json数据\"><a class=\"markdownIt-Anchor\" href=\"#ajax传参实现获取不同的json数据\">#</a> ajax 传参实现获取不同的 json 数据</h2>\n<ol>\n<li>\n<p>get，比较常用。✨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1个参数的写法</span></span><br><span class=\"line\">xhr.open(<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;http://localhost/web19/day05/getStudent.php?name=张三&quot;</span>)</span><br><span class=\"line\">xhr.send();</span><br><span class=\"line\"><span class=\"comment\">//以上前端只要这么写了，后端在getStudent.php中就可以通过该地址直接拿到name的值张三</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//多个参数的写法：</span></span><br><span class=\"line\">xhr.open(<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;http://localhost/web19/day05/getStudent.php?name=张三&amp;age=18&quot;</span>)</span><br><span class=\"line\">xhr.send();</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>post，敏感数据需要使用 post 提交给后端。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 跟get方式的区别有2个：</span></span><br><span class=\"line\"><span class=\"comment\">// 1. 要拼接的数据放到了send后面</span></span><br><span class=\"line\"><span class=\"comment\">// 2. 添加了一个方法设置请求头</span></span><br><span class=\"line\">xhr.open(<span class=\"string\">&quot;post&quot;</span>,<span class=\"string\">&quot;http://localhost/web19/day05/getStudent.php&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//设置请求头信息，将send中的url地址编码，转成标准的键值对，以便拼接（默认的标准的方式）</span></span><br><span class=\"line\">xhr.setRequestHeader(<span class=\"string\">&quot;Content-type&quot;</span>,<span class=\"string\">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class=\"line\">xhr.send(<span class=\"string\">&quot;name=张三&quot;</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"jq版的ajax\"><a class=\"markdownIt-Anchor\" href=\"#jq版的ajax\">#</a> JQ 版的 ajax</h2>\n<p>JQ 版的 ajax 的亮点：</p>\n<ol>\n<li>兼容各大浏览器（包括 IE）。</li>\n<li>高度封装，用起来很方便，仅需要配置即可，类似于插件的使用方式。</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">语法：</span><br><span class=\"line\">    $.ajax(&#123;<span class=\"attr\">name</span>:value, <span class=\"attr\">name</span>:value, ... &#125;)</span><br><span class=\"line\">    type      规定请求的类型，（GET 或 POST）,默认值为get。</span><br><span class=\"line\">    url       规定发送请求的 URL。默认是当前页面。</span><br><span class=\"line\">    <span class=\"keyword\">async</span>     布尔值，表示请求是否异步处理。默认是 <span class=\"literal\">true</span>。</span><br><span class=\"line\">    data      规定要发送到服务器的数据。</span><br><span class=\"line\">    dataType  预期的服务器响应的数据类型，一般不需要设置。</span><br><span class=\"line\">    timeout   规定请求的期限时间，默认没有期限   </span><br><span class=\"line\">    cache     是否缓存请求过来的数据</span><br><span class=\"line\">    success(result,status,xhr)  当请求成功时运行的函数。</span><br><span class=\"line\">    error(xhr,status,error)     如果请求失败要运行的函数。</span><br><span class=\"line\">    complete(xhr)               无论数据请求成功与否，都会执行该函数</span><br><span class=\"line\"><span class=\"comment\">//ajax是JQ的一个全局方法，类似于之前学习过的全局方法</span></span><br><span class=\"line\"><span class=\"comment\">//$.each,$.trim,$.type,。。。</span></span><br><span class=\"line\"><span class=\"comment\">//标准的模板</span></span><br><span class=\"line\">$.ajax(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//默认是get，所以可以省略，等价于open()</span></span><br><span class=\"line\">   type:<span class=\"string\">&quot;get|post&quot;</span>,</span><br><span class=\"line\">   <span class=\"comment\">//等价于open()</span></span><br><span class=\"line\">   url:<span class=\"string\">&quot;数据地址&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//该方法只会在数据获取成功后才会执行，</span></span><br><span class=\"line\">    <span class=\"comment\">//等价于onreadystatechange,if(xhr.readyState==4&amp;&amp;xhr.status==200)</span></span><br><span class=\"line\">   success:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</span><br><span class=\"line\">    \t<span class=\"comment\">//写如何解析json的代码</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(res);<span class=\"comment\">//res就是真对象，甚至可以不需要使用JSON.parse()</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//原来的JS是没有的，除非写else语句，可选</span></span><br><span class=\"line\">    error:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;);  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//进阶版的模板：</span></span><br><span class=\"line\">$.ajax(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//默认是get，可以省略，等价于open()</span></span><br><span class=\"line\">   type:<span class=\"string\">&quot;get|post&quot;</span>,</span><br><span class=\"line\">   <span class=\"comment\">//等价于open()</span></span><br><span class=\"line\">   url:<span class=\"string\">&quot;数据地址&quot;</span>,</span><br><span class=\"line\">   timeout:<span class=\"number\">5000</span>,</span><br><span class=\"line\">    <span class=\"comment\">//该方法只会在数据获取成功后才会执行，</span></span><br><span class=\"line\">    <span class=\"comment\">//等价于if(xhr.readyState==4&amp;&amp;)</span></span><br><span class=\"line\">   success:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</span><br><span class=\"line\">    \t<span class=\"comment\">//写如何解析json的代码</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(res);<span class=\"comment\">//res就是真对象，甚至可以不需要使用JSON.parse()</span></span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">        <span class=\"comment\">//原来的JS是没有的，除非写else语句，可选</span></span><br><span class=\"line\">    error:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    complete:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//不管数据是否获取成功，都会执行该方法</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"ajax实例\"><a class=\"markdownIt-Anchor\" href=\"#ajax实例\">#</a> ajax 实例</h2>\n<h3 id=\"实例1\"><a class=\"markdownIt-Anchor\" href=\"#实例1\">#</a> 实例 1</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;select id&#x3D;&quot;sel&quot;&gt;</span><br><span class=\"line\">        &lt;option&gt;---请选择学生---&lt;&#x2F;option&gt;</span><br><span class=\"line\">        &lt;option value&#x3D;&quot;0&quot;&gt;---张三---&lt;&#x2F;option&gt;</span><br><span class=\"line\">        &lt;option value&#x3D;&quot;1&quot;&gt;---李四---&lt;&#x2F;option&gt;</span><br><span class=\"line\">        &lt;option value&#x3D;&quot;2&quot;&gt;---王五---&lt;&#x2F;option&gt;</span><br><span class=\"line\">    &lt;&#x2F;select&gt;</span><br><span class=\"line\">    &lt;div id&#x3D;&quot;box&quot;&gt;</span><br><span class=\"line\">        &lt;!-- 显示选中了的学生数据，来自于ajax，ajax请求的是后端数据 --&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">    var sel&#x3D;document.getElementById(&quot;sel&quot;);</span><br><span class=\"line\">    var box&#x3D;document.getElementById(&quot;box&quot;);</span><br><span class=\"line\">    &#x2F;&#x2F; var box&#x3D;doc.</span><br><span class=\"line\">    sel.onchange&#x3D;function()&#123;</span><br><span class=\"line\">        &#x2F;&#x2F; console.log(sel.value)</span><br><span class=\"line\">      &#x2F;&#x2F;xhr即ajax对象</span><br><span class=\"line\">      var xhr&#x3D;new XMLHttpRequest();</span><br><span class=\"line\">      &#x2F;&#x2F;再调用该对象下的方法和属性</span><br><span class=\"line\">      &#x2F;&#x2F;后端提供给我们的地址</span><br><span class=\"line\">      &#x2F;&#x2F;后端其实会写一个接口文档，里面有文档说明</span><br><span class=\"line\">      &#x2F;&#x2F; 数据地址其就是接口地址</span><br><span class=\"line\">      &#x2F;&#x2F; .json</span><br><span class=\"line\">      &#x2F;&#x2F; txt</span><br><span class=\"line\">      &#x2F;&#x2F; html</span><br><span class=\"line\">      &#x2F;&#x2F; xml</span><br><span class=\"line\">      &#x2F;&#x2F; php</span><br><span class=\"line\">      &#x2F;&#x2F; jsp</span><br><span class=\"line\">      &#x2F;&#x2F; php</span><br><span class=\"line\">      &#x2F;&#x2F; py</span><br><span class=\"line\">      &#x2F;&#x2F; 后缀名不代表数据，里面的内容才代表数据</span><br><span class=\"line\">      &#x2F;&#x2F; 文件后缀名仅仅只是用来关联要打开的软件，里面的内容才是关键</span><br><span class=\"line\">      &#x2F;&#x2F; </span><br><span class=\"line\">          &#x2F;&#x2F; xhr.open(&#39;get&#39;,&#39;web19.jpg&#39;);</span><br><span class=\"line\">          &#x2F;&#x2F; 传参到后台,通过url的search部分像后端传递数据（发生数据，通信）</span><br><span class=\"line\">          &#x2F;&#x2F; getStudent.php?name&#x3D;1</span><br><span class=\"line\">          xhr.open(&#39;get&#39;,&#39;getStudent.php?uname&#x3D;&#39;+sel.value);</span><br><span class=\"line\">          xhr.send();</span><br><span class=\"line\">          xhr.onreadystatechange&#x3D;function()&#123;</span><br><span class=\"line\">              if(xhr.readyState&#x3D;&#x3D;4&amp;&amp;xhr.status&#x3D;&#x3D;200)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F; 后端返回过来的数据</span><br><span class=\"line\">                 var json&#x3D;JSON.parse(xhr.response);</span><br><span class=\"line\">                 console.log(xhr.response);&#x2F;&#x2F;1</span><br><span class=\"line\">                  &#x2F;&#x2F;注意：json要写对，否则可能会报错</span><br><span class=\"line\">                  box.innerText&#x3D;&#96;姓名:$&#123;json.name&#125;,年龄:$&#123;json.age&#125;&#96;;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">          &#125;  </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"实例2\"><a class=\"markdownIt-Anchor\" href=\"#实例2\">#</a> 实例 2</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">        用户名：</span><br><span class=\"line\">        &lt;input type&#x3D;&quot;text&quot; value&#x3D;&quot;&quot; id&#x3D;&quot;ipt&quot; name&#x3D;&quot;uname&quot;&gt;</span><br><span class=\"line\">        &lt;br&gt;</span><br><span class=\"line\">        密码：</span><br><span class=\"line\">        &lt;input type&#x3D;&quot;text&quot; value&#x3D;&quot;&quot; id&#x3D;&quot;pwd&quot; name&#x3D;&quot;pwd&quot;&gt;</span><br><span class=\"line\">        &lt;button id&#x3D;&quot;btn&quot;&gt;d恩如&lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;div id&#x3D;&quot;box&quot;&gt;</span><br><span class=\"line\">        &lt;!-- 显示选中了的学生数据，来自于ajax，ajax请求的是后端数据 --&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">    var ipt&#x3D;document.getElementById(&quot;ipt&quot;);</span><br><span class=\"line\">    var pwd&#x3D;document.getElementById(&quot;pwd&quot;);</span><br><span class=\"line\">    var btn&#x3D;document.getElementById(&quot;btn&quot;);</span><br><span class=\"line\">    var box&#x3D;document.getElementById(&quot;box&quot;);</span><br><span class=\"line\">    btn.onclick&#x3D;function()&#123;</span><br><span class=\"line\">        &#x2F;&#x2F; console.log(1)</span><br><span class=\"line\">    &#x2F;&#x2F; var box&#x3D;doc.</span><br><span class=\"line\">    &#x2F;&#x2F; sel.onchange&#x3D;function()&#123;</span><br><span class=\"line\">        &#x2F;&#x2F; console.log(sel.value)</span><br><span class=\"line\">      &#x2F;&#x2F;xhr即ajax对象</span><br><span class=\"line\">      var xhr&#x3D;new XMLHttpRequest();</span><br><span class=\"line\">          &#x2F;&#x2F; xhr.open(&#39;get&#39;,&#39;web19.jpg&#39;);</span><br><span class=\"line\">          &#x2F;&#x2F; 传参到后台,通过url的search部分像后端传递数据（发生数据，通信）</span><br><span class=\"line\">          &#x2F;&#x2F; getUser.php?name&#x3D;admin&amp;pwd&#x3D;12345</span><br><span class=\"line\">          &#x2F;&#x2F; xhr.open(&#39;get&#39;,&#39;getUser.php?name&#x3D;&#39;+ipt.value+&#39;&amp;pwd&#x3D;&#39;+pwd.value);</span><br><span class=\"line\">          xhr.open(&quot;post&quot;,&#39;getUser.php&#39;);</span><br><span class=\"line\">          &#x2F;&#x2F;     含义：规定请求头信息。将send中的数据编码为名称&#x2F;值对，这是标准的编码格式。</span><br><span class=\"line\">          xhr.setRequestHeader(&quot;Content-type&quot;,&quot;application&#x2F;x-www-form-urlencoded&quot;);</span><br><span class=\"line\">          &#x2F;&#x2F; send表示发送的意思，要把发送的数据写在该参数中</span><br><span class=\"line\">          xhr.send(&#39;name&#x3D;&#39;+ipt.value+&#39;&amp;pwd&#x3D;&#39;+pwd.value);</span><br><span class=\"line\">          xhr.onreadystatechange&#x3D;function()&#123;</span><br><span class=\"line\">              if(xhr.readyState&#x3D;&#x3D;4&amp;&amp;xhr.status&#x3D;&#x3D;200)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F; 后端返回过来的数据</span><br><span class=\"line\">                &#x2F;&#x2F; 后端返回的是1，表示成功，否则表示失败</span><br><span class=\"line\">                console.log(xhr.response);</span><br><span class=\"line\">                    if(xhr.response&#x3D;&#x3D;1)&#123;</span><br><span class=\"line\">                        alert(&quot;恭喜你登录成功&quot;)</span><br><span class=\"line\">                    &#125;  else&#123;</span><br><span class=\"line\">                        alert(&quot;请检查您的账号密码再试&quot;);</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"实例3\"><a class=\"markdownIt-Anchor\" href=\"#实例3\">#</a> 实例 3</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">    &lt;!-- 假设需要加载json到当前页面，是 不可以使用link标签、script标签或其他标签--&gt;</span><br><span class=\"line\">    &lt;!-- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;script&gt;&lt;&#x2F;script&gt; --&gt;</span><br><span class=\"line\">    &lt;!-- 唯一可以的方式就是用ajax来加载json --&gt;</span><br><span class=\"line\">    &lt;script src&#x3D;&quot;jquery-3.5.1.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;table border&#x3D;&quot;1&quot; width&#x3D;&quot;80%&quot; align&#x3D;&quot;center&quot;&gt;</span><br><span class=\"line\">        &lt;tr&gt;</span><br><span class=\"line\">            &lt;th&gt;姓名&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;年龄&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;性别&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;爱好&lt;&#x2F;th&gt;</span><br><span class=\"line\">        &lt;&#x2F;tr&gt;</span><br><span class=\"line\">        &lt;tbody id&#x3D;&quot;tbd&quot;&gt;</span><br><span class=\"line\">            &lt;tr&gt;</span><br><span class=\"line\">               &lt;!-- 此地方最终会被ajax过来的数据替换 --&gt;</span><br><span class=\"line\">            &lt;&#x2F;tr&gt;</span><br><span class=\"line\">        &lt;&#x2F;tbody&gt;</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;!-- &lt;tr&gt;</span><br><span class=\"line\">            &lt;td&gt;李四&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;19&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;男&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;唱歌&lt;&#x2F;td&gt;</span><br><span class=\"line\">        &lt;&#x2F;tr&gt; --&gt;</span><br><span class=\"line\">    &lt;&#x2F;table&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class=\"line\">        &#x2F;&#x2F;标准的模板</span><br><span class=\"line\">        $.ajax(&#123;</span><br><span class=\"line\">            &#x2F;&#x2F;默认是get，所以可以省略，等价于open()</span><br><span class=\"line\">           type:&quot;get&quot;,</span><br><span class=\"line\">           &#x2F;&#x2F;等价于open()</span><br><span class=\"line\">           url:&quot;web19.json&quot;,</span><br><span class=\"line\">            &#x2F;&#x2F;该方法只会在数据获取成功后才会执行，</span><br><span class=\"line\">            &#x2F;&#x2F;等价于if(xhr.readyState&#x3D;&#x3D;4&amp;&amp;)</span><br><span class=\"line\">           success:function(res)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F;写如何解析json的代码</span><br><span class=\"line\">                console.log(res);&#x2F;&#x2F;res就是真对象，甚至可以不需要使用JSON.parse()转换</span><br><span class=\"line\">                $.each(res.web19,function(index,item)&#123;</span><br><span class=\"line\">                    tbd.innerHTML+&#x3D;&quot;&lt;tr&gt;&lt;td&gt;&quot;+item.name+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+item.age+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+item.sex+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+item.hobby.join(&quot;,&quot;)+&quot;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&quot;;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            </span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#x2F;&#x2F;原来的JS是没有的，除非写else语句，可选</span><br><span class=\"line\">            error:function(err)&#123;</span><br><span class=\"line\">                alert(&quot;数据获取失败，请稍后再试！&quot;)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;);  </span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt; </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "ajax"
            ]
        },
        {
            "id": "https://serena-tz.github.io/2020/10/13/ajax%E7%AE%80%E4%BB%8B%E3%80%81ajax%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%81%E6%96%B9%E6%B3%95%EF%BC%88%E5%8F%91%E8%AF%B7%E6%B1%82%EF%BC%89/",
            "url": "https://serena-tz.github.io/2020/10/13/ajax%E7%AE%80%E4%BB%8B%E3%80%81ajax%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%81%E6%96%B9%E6%B3%95%EF%BC%88%E5%8F%91%E8%AF%B7%E6%B1%82%EF%BC%89/",
            "title": "ajax简介、ajax对象的属性、方法（发请求）",
            "date_published": "2020-10-13T01:41:25.000Z",
            "content_html": "<h2 id=\"ajax简介\"><a class=\"markdownIt-Anchor\" href=\"#ajax简介\">#</a> ajax 简介</h2>\n<p>概念：Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）。使用 JS 的异步的方式（ajax 对象）去获取数据。数据：xml，json, 文本等。</p>\n<p><strong>特点：</strong></p>\n<ol>\n<li>\n<p>AJAX 不是新的编程语言，而是一种使用现有标准的新方法，JS 中有一个专门的对象：XMLHttpRequest。</p>\n</li>\n<li>\n<p>AJAX 最大的优点是在不重新加载整个页面的情况下，可以与服务器交换数据并更新部分网页内容。（局部刷新）</p>\n</li>\n<li>\n<p>AJAX 不需要任何浏览器插件，但需要用户允许 JavaScript 在浏览器上执行。需要使用服务器环境</p>\n</li>\n<li>\n<p>AJAX 是一种用于创建快速动态网页的技术。前后端分离。</p>\n</li>\n</ol>\n<p><strong>同步和异步的区别：</strong></p>\n<ol>\n<li>同步：指的阻塞的，前面的代码会影响后面的代码的执行，也就是代码是从上到下执行的。</li>\n<li>异步：指的非阻塞。前面的代码不会影响后面代码的执行</li>\n</ol>\n<h2 id=\"ajax对象和属性方法\"><a class=\"markdownIt-Anchor\" href=\"#ajax对象和属性方法\">#</a> ajax 对象和属性，方法</h2>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//xhr即ajax对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> xhr=<span class=\"keyword\">new</span> XMLHttpRequest();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//再调用该对象下的方法和属性</span></span><br><span class=\"line\">\txhr.open(<span class=\"string\">&#x27;get|post&#x27;</span>,url,[是否异步<span class=\"literal\">true</span>或<span class=\"literal\">false</span>,默认是异步]);</span><br><span class=\"line\">\txhr.send();</span><br><span class=\"line\">\txhr.onreadystatechange=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(xhr.readyState==<span class=\"number\">4</span>&amp;&amp;xhr.status==<span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> json=<span class=\"built_in\">JSON</span>.parse(xhr.response);</span><br><span class=\"line\">            <span class=\"comment\">//注意：json要写对，否则可能会报错</span></span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"json对象的两个方法\"><a class=\"markdownIt-Anchor\" href=\"#json对象的两个方法\">#</a> JSON 对象的两个方法</h2>\n<p>使用 ajax 返回过来的数据会自动变成字符串，即数组会变成字符串数组，对象会变成字符串对象等。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">原数据：</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    web:&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">通过ajax返回后：会变成字符串</span><br><span class=\"line\"><span class=\"string\">&quot;&#123;</span></span><br><span class=\"line\"><span class=\"string\">\tweb:&#123;</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// 在解析时，就需要将字符串还原成数据原本的样子。</span></span><br><span class=\"line\"><span class=\"built_in\">JSON</span>.parse(字符串对象)==&gt; 真对象</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/// 本质上其实就是去伪成真即将双引号去掉</span></span><br><span class=\"line\"><span class=\"built_in\">JSON</span>.parse(<span class=\"string\">&#x27;[]&#x27;</span>); ==&gt;  []</span><br><span class=\"line\"><span class=\"built_in\">JSON</span>.parse(<span class=\"string\">&quot;function()&#123;&#125;&quot;</span>) ==&gt; <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"built_in\">JSON</span>.parse(<span class=\"string\">&#x27;&#123;&#125;&#x27;</span>);===&gt;&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 还有一个JSON的方法</span></span><br><span class=\"line\"><span class=\"built_in\">JSON</span>.stringify([])==&gt; <span class=\"string\">&quot;[]&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>http 状态码：</strong></p>\n<p>因为网络上的所有的资源都需要通过 http 的方式请求和下载，那也有可能出现各种状况，可以通过读 http 状态码知道本次下载的情况如何。 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVub29iLmNvbS9odHRwL2h0dHAtc3RhdHVzLWNvZGVzLmh0bWw=\">https://www.runoob.com/http/http-status-codes.html</span> 。</p>\n<h2 id=\"ajax模板\"><a class=\"markdownIt-Anchor\" href=\"#ajax模板\">#</a> ajax 模板</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">    &lt;!-- 假设需要加载json到当前页面，是 不可以使用link标签、script标签或其他标签--&gt;</span><br><span class=\"line\">    &lt;!-- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;script&gt;&lt;&#x2F;script&gt; --&gt;</span><br><span class=\"line\">    &lt;!-- 唯一可以的方式就是用ajax来加载json --&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class=\"line\">        &#x2F;&#x2F;ajax对象</span><br><span class=\"line\">        var xhr&#x3D;new XMLHttpRequest();</span><br><span class=\"line\">            xhr.open(&#39;get&#39;,&#39;web20.json&#39;);</span><br><span class=\"line\">            xhr.send();</span><br><span class=\"line\">            xhr.onreadystatechange&#x3D;function()&#123;</span><br><span class=\"line\">                if(xhr.readyState&#x3D;&#x3D;4&amp;&amp;xhr.status&#x3D;&#x3D;200)&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F; 这里就成功拿到了数据</span><br><span class=\"line\">                    console.log(xhr.responseText)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt; </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"ajax实例\"><a class=\"markdownIt-Anchor\" href=\"#ajax实例\">#</a> ajax 实例</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">    &lt;!-- 假设需要加载json到当前页面，是 不可以使用link标签、script标签或其他标签--&gt;</span><br><span class=\"line\">    &lt;!-- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">    &lt;script&gt;&lt;&#x2F;script&gt; --&gt;</span><br><span class=\"line\">    &lt;!-- 唯一可以的方式就是用ajax来加载json --&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;table border&#x3D;&quot;1&quot; width&#x3D;&quot;80%&quot; align&#x3D;&quot;center&quot;&gt;</span><br><span class=\"line\">        &lt;tr&gt;</span><br><span class=\"line\">            &lt;th&gt;姓名&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;年龄&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;性别&lt;&#x2F;th&gt;</span><br><span class=\"line\">            &lt;th&gt;爱好&lt;&#x2F;th&gt;</span><br><span class=\"line\">        &lt;&#x2F;tr&gt;</span><br><span class=\"line\">        &lt;tbody id&#x3D;&quot;tbd&quot;&gt;</span><br><span class=\"line\">            &lt;tr&gt;</span><br><span class=\"line\">               &lt;!-- 此地方最终会被ajax过来的数据替换 --&gt;</span><br><span class=\"line\">            &lt;&#x2F;tr&gt;</span><br><span class=\"line\">        &lt;&#x2F;tbody&gt;</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;!-- &lt;tr&gt;</span><br><span class=\"line\">            &lt;td&gt;李四&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;19&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;男&lt;&#x2F;td&gt;</span><br><span class=\"line\">            &lt;td&gt;唱歌&lt;&#x2F;td&gt;</span><br><span class=\"line\">        &lt;&#x2F;tr&gt; --&gt;</span><br><span class=\"line\">    &lt;&#x2F;table&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class=\"line\">        &#x2F;&#x2F;ajax对象</span><br><span class=\"line\">        &#x2F;&#x2F;1个对象：xhr</span><br><span class=\"line\">        &#x2F;&#x2F;2个方法：open(),send()</span><br><span class=\"line\">        &#x2F;&#x2F;3个属性：xhr.readyState,xhr.status,xhr.responseText</span><br><span class=\"line\">        &#x2F;&#x2F;1个事件：onreadystatechange</span><br><span class=\"line\">        &#x2F;&#x2F;ajax的工作原理很像我们打开浏览器访问一个页面</span><br><span class=\"line\">        &#x2F;&#x2F;1. 打开浏览器或者新建窗口（新标签页）</span><br><span class=\"line\">        var xhr&#x3D;new XMLHttpRequest();</span><br><span class=\"line\">        &#x2F;&#x2F; 2.输入要访问的地址，比如www.baidu.com</span><br><span class=\"line\">            xhr.open(&#39;get&#39;,&#39;data.json&#39;);</span><br><span class=\"line\">        &#x2F;&#x2F; 3. 按下回车键</span><br><span class=\"line\">            xhr.send();</span><br><span class=\"line\">        &#x2F;&#x2F; 4.等待网页返回内容给前端，这里需要一个事件来监听内容是否成功返回</span><br><span class=\"line\">        &#x2F;&#x2F;      select.onchange&#x3D;function()&#123;&#125;</span><br><span class=\"line\">            xhr.onreadystatechange&#x3D;function()&#123;</span><br><span class=\"line\">                &#x2F;&#x2F;readyState保存的就是状态码，当每一次状态改变时，都会触发onreadystatechange事件</span><br><span class=\"line\">                &#x2F;&#x2F;所以这里需要添加if语句，确保数据已经成功拿到手了再开始干活，解析数据</span><br><span class=\"line\">                if(xhr.readyState&#x3D;&#x3D;4&amp;&amp;xhr.status&#x3D;&#x3D;200)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F; 这里如果能够打印数据，则表示肯定是请求成功了！</span><br><span class=\"line\">                &#x2F;&#x2F; xhr.response 表示返回过来的数据</span><br><span class=\"line\">                    &#x2F;&#x2F; console.log(xhr.response);</span><br><span class=\"line\">                    &#x2F;&#x2F; console.log(xhr.response);&#x2F;&#x2F;string</span><br><span class=\"line\">                    var json&#x3D;JSON.parse(xhr.response);</span><br><span class=\"line\">                    &#x2F;&#x2F; console.log(data)</span><br><span class=\"line\">                    &#x2F;&#x2F; 接下来就是用昨天学的解析json的知识点来解析了，与ajax无关了！！即ajax只负责运输数据，不负责解析数据</span><br><span class=\"line\">                    &#x2F;&#x2F; </span><br><span class=\"line\">                    &#x2F;&#x2F; ajax和json的关系</span><br><span class=\"line\">                    &#x2F;&#x2F; 物流和物品的关系</span><br><span class=\"line\">                    var tbd&#x3D;document.getElementById(&quot;tbd&quot;);</span><br><span class=\"line\">                    var html&#x3D;&quot;&quot;;</span><br><span class=\"line\">                    var data&#x3D;json.data;</span><br><span class=\"line\">                    for(var i&#x3D;0;i&lt;data.length;i++)&#123;</span><br><span class=\"line\">                        &#x2F;&#x2F; console.log(web20[i]);</span><br><span class=\"line\">                        tbd.innerHTML+&#x3D;&quot;&lt;tr&gt;&lt;td&gt;&quot;+data[i].name+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+data[i].age+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+data[i].sex+&quot;&lt;&#x2F;td&gt;&lt;td&gt;&quot;+data[i].hobby.join(&quot;,&quot;)+&quot;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">                        &#x2F;&#x2F; var str&#x3D;&quot;hello,world&quot;;</span><br><span class=\"line\">                    &#125; </span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt; </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "ajax"
            ]
        }
    ]
}