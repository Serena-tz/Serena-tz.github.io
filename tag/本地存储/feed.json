{
    "version": "https://jsonfeed.org/version/1",
    "title": "阳光果苏 • All posts by \"本地存储\" tag",
    "description": "心情笔记 & 编程日记",
    "home_page_url": "https://Serena-tz.github.io",
    "items": [
        {
            "id": "https://serena-tz.github.io/2020/09/10/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/",
            "url": "https://serena-tz.github.io/2020/09/10/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/",
            "title": "本地存储",
            "date_published": "2020-09-10T06:46:21.000Z",
            "content_html": "<h2 id=\"本地存储有什么用\"><a class=\"markdownIt-Anchor\" href=\"#本地存储有什么用\">#</a> 本地存储有什么用</h2>\n<ol>\n<li>用户登录后，记住用户名密码，下次打开时就不再重新登录</li>\n<li>第一次访问某网站时，会弹出一个引导操作，下次访问时则不再出现，除非清空浏览器缓存</li>\n<li>网站换肤，我们选择了某个皮肤后，下次访问该网站应该还是之前选择的那个皮肤样式</li>\n<li>购物车同步（多页面间的通信）</li>\n<li>记录用户的浏览记录</li>\n<li>离线下载</li>\n</ol>\n<p>只有一个本质：就是保存数据到用户本地（用户的终端设备中）</p>\n<h2 id=\"localstorage永久存储\"><a class=\"markdownIt-Anchor\" href=\"#localstorage永久存储\">#</a> localStorage–永久存储</h2>\n<ol>\n<li>\n<p>读</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">localStorage</span>.getItem(<span class=\"string\">&quot;变量名&quot;</span>);<span class=\"comment\">//key名</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> n=<span class=\"built_in\">localStorage</span>.name;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>写 (保存)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">localStorage</span>.setItem(<span class=\"string\">&quot;变量名&quot;</span>,<span class=\"string\">&#x27;要保存的数据&#x27;</span>)</span><br><span class=\"line\">第二种写法：</span><br><span class=\"line\"><span class=\"built_in\">localStorage</span>.<span class=\"string\">&quot;变量名&quot;</span>=<span class=\"string\">&#x27;数据&#x27;</span></span><br><span class=\"line\">比如：</span><br><span class=\"line\"><span class=\"built_in\">localStorage</span>.name=<span class=\"string\">&#x27;张三&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>修改，跟保存一样</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">localStorage</span>.setItem(<span class=\"string\">&quot;变量名&quot;</span>,<span class=\"string\">&#x27;新的数据&#x27;</span>)</span><br><span class=\"line\">第二种写法：</span><br><span class=\"line\"><span class=\"built_in\">localStorage</span>.<span class=\"string\">&quot;变量名&quot;</span>=<span class=\"string\">&#x27;数据&#x27;</span></span><br><span class=\"line\">比如：</span><br><span class=\"line\"><span class=\"built_in\">localStorage</span>.name=<span class=\"string\">&#x27;张三&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>删除</p>\n<p>a. 删除一个</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">localStorage</span>.removeItem(<span class=\"string\">&quot;变量名&quot;</span>)</span><br></pre></td></tr></table></figure>\n<p>b. 删除所有（清空）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">localStorage</span>.clear()</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"sessionstorage-临时存储\"><a class=\"markdownIt-Anchor\" href=\"#sessionstorage-临时存储\">#</a> sessionStorage - 临时存储</h2>\n<p>方法跟 localStorage 一样。</p>\n<h2 id=\"永久存储和临时存储的区别\"><a class=\"markdownIt-Anchor\" href=\"#永久存储和临时存储的区别\">#</a> 永久存储和临时存储的区别</h2>\n<p>可以简单理解为：永久变量和全局变量的区别。</p>\n<ol>\n<li>localStorage : 本地存储<br>\n不会和服务器交互<br>\n存储数据量更大，IE8 是 10M<br>\n 永久存储（除非手动删除数据）</li>\n<li>sessionStorage：会话存储<br>\n session 临时会话，从页面打开到页面关闭的时间段<br>\n只能在访问这个网站的时候去设置和获取这个数据<br>\n窗口的临时存储，页面关闭，本地存储消失</li>\n</ol>\n<h2 id=\"本地存储案例\"><a class=\"markdownIt-Anchor\" href=\"#本地存储案例\">#</a> 本地存储案例</h2>\n<h3 id=\"恢复用户表单数据\"><a class=\"markdownIt-Anchor\" href=\"#恢复用户表单数据\">#</a> 恢复用户表单数据</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;作业2&lt;&#x2F;title&gt;</span><br><span class=\"line\">    &lt;style&gt;</span><br><span class=\"line\">        .box &#123;</span><br><span class=\"line\">            border: 1px solid red;</span><br><span class=\"line\">            margin: 100px auto;</span><br><span class=\"line\">            width: 400px;</span><br><span class=\"line\">            height: 350px;</span><br><span class=\"line\">            padding-left: 10px;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        .form &#123;</span><br><span class=\"line\">            margin-top: 30px;</span><br><span class=\"line\">            margin-left: 15px;</span><br><span class=\"line\">            border-bottom: 1px solid #000;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        .save &#123;</span><br><span class=\"line\">            margin-left: 15px;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;&#x2F;style&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div class&#x3D;&quot;box&quot;&gt;</span><br><span class=\"line\">        &lt;h3&gt;localStorage&lt;&#x2F;h3&gt;</span><br><span class=\"line\">        &lt;form class&#x3D;&quot;form&quot; action&#x3D;&quot;#&quot;&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                username&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                destination&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                transportation：&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; id&#x3D;&quot;&quot;&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                &lt;button id&#x3D;&quot;clear&quot;&gt;Clear&lt;&#x2F;button&gt;</span><br><span class=\"line\">                &lt;button id&#x3D;&quot;go&quot;&gt;Go&lt;&#x2F;button&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">        &lt;&#x2F;form&gt;</span><br><span class=\"line\">        &lt;div class&#x3D;&quot;save&quot;&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                username&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;：&lt;span id&#x3D;&quot;user&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                destination&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;：&lt;span id&#x3D;&quot;des&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">            &lt;p&gt;</span><br><span class=\"line\">                transportation：&lt;span id&#x3D;&quot;tra&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class=\"line\">            &lt;&#x2F;p&gt;</span><br><span class=\"line\">        &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        var clear &#x3D; document.getElementById(&quot;clear&quot;);</span><br><span class=\"line\">        var go &#x3D; document.getElementById(&quot;go&quot;);</span><br><span class=\"line\">        var ipt &#x3D; document.getElementsByTagName(&quot;input&quot;);</span><br><span class=\"line\">        var user &#x3D; document.getElementById(&quot;user&quot;);</span><br><span class=\"line\">        var des &#x3D; document.getElementById(&quot;des&quot;);</span><br><span class=\"line\">        var tra &#x3D; document.getElementById(&quot;tra&quot;);</span><br><span class=\"line\">        clear.onclick &#x3D; function () &#123;</span><br><span class=\"line\">            localStorage.removeItem(&quot;user&quot;);</span><br><span class=\"line\">            localStorage.removeItem(&quot;des&quot;);</span><br><span class=\"line\">            localStorage.removeItem(&quot;tra&quot;);</span><br><span class=\"line\">            user.innerText&#x3D;&quot;&quot;;</span><br><span class=\"line\">            des.innerText&#x3D;&quot;&quot;;</span><br><span class=\"line\">            tra.innerText&#x3D;&quot;&quot;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        go.onclick &#x3D; function () &#123;</span><br><span class=\"line\">            localStorage.setItem(&quot;user&quot;, ipt[0].value);</span><br><span class=\"line\">            localStorage.setItem(&quot;des&quot;, ipt[1].value);</span><br><span class=\"line\">            localStorage.setItem(&quot;tra&quot;, ipt[2].value);</span><br><span class=\"line\">            user.innerText&#x3D;localStorage.getItem(&quot;user&quot;, ipt[0].value);</span><br><span class=\"line\">            des.innerText&#x3D;localStorage.getItem(&quot;des&quot;, ipt[1].value);</span><br><span class=\"line\">            tra.innerText&#x3D;localStorage.getItem(&quot;tra&quot;, ipt[2].value);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        window.onload &#x3D; function () &#123;</span><br><span class=\"line\">            user.innerText&#x3D;localStorage.getItem(&quot;user&quot;, ipt[0].value);</span><br><span class=\"line\">            des.innerText&#x3D;localStorage.getItem(&quot;des&quot;, ipt[1].value);</span><br><span class=\"line\">            tra.innerText&#x3D;localStorage.getItem(&quot;tra&quot;, ipt[2].value);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"引导页\"><a class=\"markdownIt-Anchor\" href=\"#引导页\">#</a> 引导页</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;&#x2F;title&gt;</span><br><span class=\"line\">    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class=\"line\">        #mask&#123;</span><br><span class=\"line\">            position: fixed;</span><br><span class=\"line\">            top:0;</span><br><span class=\"line\">            left: 0;</span><br><span class=\"line\">            bottom: 0;</span><br><span class=\"line\">            right: 0;</span><br><span class=\"line\">            width: 100%;</span><br><span class=\"line\">            height: 100%;</span><br><span class=\"line\">            text-align: center;</span><br><span class=\"line\">            color: #fff;</span><br><span class=\"line\">            font-size: 30px;</span><br><span class=\"line\">            background-color:rgba(0,0,0,0.5);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        #mask button&#123;</span><br><span class=\"line\">            position: fixed;</span><br><span class=\"line\">            right: 10px;</span><br><span class=\"line\">            top: 20px;</span><br><span class=\"line\">            font-size: 30px;</span><br><span class=\"line\">            color: #fff;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;&#x2F;style&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">   </span><br><span class=\"line\">    网页内容</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;div id&#x3D;&quot;mask&quot; style&#x3D;&quot;display: none&quot;&gt;</span><br><span class=\"line\">        这里是引导页</span><br><span class=\"line\">        &lt;button&gt;关闭&lt;&#x2F;button&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        &#x2F;&#x2F;引导页是否显示，取决用户是否是第一次访问你的网站</span><br><span class=\"line\">        if(localStorage.getItem(&#39;baidukey&#39;)&#x3D;&#x3D;null)&#123;</span><br><span class=\"line\">            document.getElementById(&quot;mask&quot;).style.display&#x3D;&quot;block&quot;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        var btn&#x3D;document.querySelector(&quot;#mask button&quot;);</span><br><span class=\"line\">        btn.onclick&#x3D;function()&#123;</span><br><span class=\"line\">            document.getElementById(&quot;mask&quot;).style.display&#x3D;&quot;none&quot;;</span><br><span class=\"line\">            &#x2F;&#x2F; 当用户点击关闭引导页后，写入一个本地存储的值</span><br><span class=\"line\">            localStorage.setItem(&#39;baidukey&#39;,true);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "本地存储"
            ]
        }
    ]
}